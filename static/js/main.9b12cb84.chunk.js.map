{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Background/Background.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","images/search.svg","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","services/api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js"],"names":["module","exports","_path","spin","keyframes","Spinner","CgSpinner","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSearch","_ref","svgRef","title","titleId","props","width","height","xmlns","ref","id","d","fill","ForwardRef","Searchbar","onSearch","className","s","onSubmit","e","preventDefault","elements","searchImage","value","SearchForm","type","SearchForm_button","SearchForm_input","name","autoComplete","autoFocus","placeholder","fetchImage","a","page","axios","defaults","baseURL","autKey","get","response","images","data","hits","ImageGalleryItem","image","openLargeImage","onClick","src","webformatURL","alt","tag","ImageGalleryItem_image","ImageGallery","map","Button","modalRoot","document","querySelector","Modal","children","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","currentTarget","App","useState","setSearchImage","setImages","setPage","reqStatus","setReqStatus","showModal","setShowModal","largeImage","setLargeImage","Error","prevState","toast","error","onFetchImage","scrollTo","top","documentElement","scrollHeight","behavior","reset","toggleModal","state","size","color","largeImageURL","tags","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b12cb84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3SZyc\",\"SearchForm\":\"Searchbar_SearchForm__JTfHj\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1qoY2\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2L3Yp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1bUIL\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2k12M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3NO0Z\",\"Modal\":\"Modal_Modal__5E752\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Background_background__2tptk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1oNmD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__gAGCh\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m19.361 18.217-4.76-4.95a8.05 8.05 0 0 0 1.895-5.192C16.496 3.623 12.873 0 8.42 0 3.968 0 .346 3.623.346 8.075c0 4.453 3.622 8.075 8.075 8.075a7.99 7.99 0 0 0 4.626-1.461l4.796 4.988c.2.208.47.323.76.323a1.054 1.054 0 0 0 .76-1.783ZM8.421 2.107a5.975 5.975 0 0 1 5.968 5.968 5.975 5.975 0 0 1-5.968 5.969 5.975 5.975 0 0 1-5.969-5.969 5.975 5.975 0 0 1 5.969-5.968Z\",\n    fill: \"#3f51b5\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.dfbf68ba.svg\";\nexport { ForwardRef as ReactComponent };","import styled from '@emotion/styled/macro';\r\nimport { keyframes } from '@emotion/react';\r\nimport { CgSpinner } from 'react-icons/cg';\r\n\r\nconst spin = keyframes`\r\n0% {\r\n  transform: rotate(0deg);\r\n}\r\n100% {\r\n  transform: rotate(1turn);\r\n}\r\n`;\r\n\r\nexport const Spinner = styled(CgSpinner)`\r\n  animation: ${spin} 1s linear infinite;\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 100wh;\r\n`;\r\n","import { ReactComponent as Search } from '../../images/search.svg';\r\nimport s from 'components/Searchbar/Searchbar.module.css';\r\n\r\nfunction Searchbar({ onSearch }) {\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    onSearch(e.target.elements.searchImage.value);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handleSearch} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <Search />\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          name=\"searchImage\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nexport const fetchImage = async (searchImage, page = 1) => {\r\n  axios.defaults.baseURL = 'https://pixabay.com/api/';\r\n  const autKey = '21724467-4ce0638ba06e77e7c079dfe7e';\r\n\r\n  const response = await axios.get(\r\n    `/?image_type=photo&orientation=horizontal&q=${searchImage}&page=${page}&per_page=12&key=${autKey}`,\r\n  );\r\n  const images = response.data.hits;\r\n  return images;\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ image, openLargeImage }) {\r\n  return (\r\n    <li\r\n      key={image.id}\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => openLargeImage(image)}\r\n    >\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tag}\r\n        className={s.ImageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object.isRequired,\r\n  openLargeImage: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, openLargeImage }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            image={image}\r\n            openLargeImage={openLargeImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  openLargeImage: PropTypes.func.isRequired,\r\n};\r\n","import s from 'components/Button/Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  const onloadMore = e => onClick();\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      data-action=\"load-more\"\r\n      className={s.Button}\r\n      onClick={onloadMore}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import { createPortal } from 'react-dom';\r\nimport s from 'components/Modal/Modal.module.css';\r\nimport { useEffect } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ children, onClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n  const handleBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackDropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\n\nimport toast, { Toaster } from 'react-hot-toast';\nimport { Spinner } from 'components/Loader/Loader';\nimport SearchBar from 'components/Searchbar/Searchbar';\nimport { fetchImage } from 'services/api';\nimport Background from 'components/Background/Background';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Button from 'components/Button/Button';\nimport Modal from 'components/Modal/Modal';\n\nfunction App() {\n  const [searchImage, setSearchImage] = useState(null);\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [reqStatus, setReqStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState({});\n\n  useEffect(() => {\n    if (!searchImage) {\n      return;\n    }\n    async function onFetchImage() {\n      try {\n        setReqStatus('pending');\n\n        const images = await fetchImage(searchImage, page);\n\n        if (!images.length) {\n          throw new Error();\n        }\n\n        setImages(prevState => [...prevState, ...images]);\n        setReqStatus('resolved');\n      } catch (err) {\n        setReqStatus('rejected');\n        toast.error('Not found');\n      }\n    }\n    onFetchImage();\n\n    page > 1 &&\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n  }, [page, searchImage]);\n\n  const onLoadMore = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const handleSearchChange = searchImage => {\n    reset();\n    setSearchImage(searchImage);\n  };\n\n  const reset = () => {\n    setSearchImage(null);\n    setImages([]);\n    setPage(1);\n    setReqStatus('idle');\n  };\n\n  const toggleModal = () => {\n    setShowModal(state => !state);\n  };\n\n  const handleOpenImage = largeImage => {\n    setLargeImage(largeImage);\n    toggleModal();\n  };\n\n  return (\n    <div>\n      <SearchBar onSearch={handleSearchChange} />\n      {/* <Background /> */}\n\n      {reqStatus === 'pending' && <Spinner size=\"50\" color=\"blue\" />}\n      <ImageGallery images={images} openLargeImage={handleOpenImage} />\n      <Toaster />\n      {images.length > 0 && <Button onClick={onLoadMore} />}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImage.largeImageURL} alt={largeImage.tags} />\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}